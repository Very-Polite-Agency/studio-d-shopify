"use strict";function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var Credits=function(){return{init:function(){console.log("".concat("studio D"," - ").concat('"Redefining Design"'," - Version ").concat("2.0")),console.log("Site by Very Polite Agency – https://weareverypolite.com/")}}},Breakpoints=function(){return{debug:!1,info:{name:"Breakpoints",version:"1.0"},sizes:{sm:576,md:768,lg:992,xl:1200,xxl:1400}}},Forms=function(){var e=new Tools,t=[],n=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t.value||"error",o=!1,i=t.name||"no-name",r=t.type||"no-type",a=t.nodeName||"no-node-name";switch(a){case"INPUT":switch(r){case"checkbox":t.checked&&(o=!0);break;case"email":validator.isEmail(t.value)&&(o=!0);break;case"radio":break;case"tel":validator.isMobilePhone(t.value)&&(o=!0);break;case"password":case"text":validator.isEmpty(t.value)||(o=!0)}break;case"SELECT":t.value&&(o=!0);break;case"TEXTAREA":validator.isEmpty(t.value)||(o=!0)}return o?e.removeClass("error",[t.closest(".form__field")]):e.addClass("error",[t.closest(".form__field")]),console.log({type:r,name:i,nodeName:a,isValid:o,value:n}),console.log("isFieldValid() finish"),o};return{info:{name:"Forms",version:"2.1"},init:function(){document.querySelectorAll('.js--validate-me [type="submit"]').forEach((function(e){e.addEventListener("click",(function(o){o.preventDefault();var i=e.closest("form"),r=function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!0,o=e.querySelectorAll(".required")||[],i=0;i<o.length;i++)console.log("isFormValid() loop count"+i),n(o[i])||(t=!1);return t}(i),a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e.querySelectorAll("input.rude")||[],n=0;n<t.length;n++)if(t[n].value)return!0;return!1}(i),l=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.querySelectorAll('input[type="file"]')||[];t.length=0,totalMB=0;for(var o=0;o<n.length;o++){var i=n[o],r=i.closest(".field"),a=r.querySelector(".field__error-message")||!1,l=i.files||{},s="";for(var c in l)totalMB+=l[c].size||0,l[c].size&&t.push(l[c]);if(totalMB=totalMB/1024/1024,totalMB>25)return s="The current total file size (".concat(totalMB.toFixed(1),"MB) is larger than the 25.0MB limit"),r.classList.add("error"),a&&(a.innerHTML=s),!1;a&&(a.innerHTML=s),r.classList.remove("error")}return!0}(i),s=function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=0,n=e.querySelectorAll('input[type="file"]')||[],o=0;o<n.length;o++)if((t+=(n[o].files||{}).length)>4)return n[o].value="",alert("Too many files selected. The limit is 4."),!1;return!0}(i);!(!r||a||!l||!s)&&function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.action||!1,o=new FormData(e),i=e.dataset.redirectUrl||!1;t.forEach((function(e,t){o.append("additional_docs",e)})),e.classList.add("posting"),axios.post(n,o).then((function(e){i&&window.location.replace(i)})).catch((function(e){console.log("catch() data :: ",e)})).finally((function(){e.reset(),e.classList.remove("posting")}))}(i)}))}))}}},Gliders=function(){var e=(new Tools,new Breakpoints),t={},n=!1,o=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={animationTimingFunc:"ease-in-out",animationDuration:550,autoplay:0,breakpoints:{9999:{perView:1,peek:90},991:{perView:1,peek:50}},hoverpause:!0,perView:1,type:"carousel",rewind:!0,throttle:50,gap:12};return e&&"object"==_typeof(e)&&(t=_objectSpread(_objectSpread({},t),e)),t},i=function(){var n=window.innerWidth;for(var o in t){var i=t[o];i.mobileOnly?n>e.sizes.lg?r(i.id,!1,i.options):r(i.id,!0,i.options):i.desktopOnly?n>=e.sizes.lg?r(i.id,!0,i.options):r(i.id,!1,i.options):r(i.id,!0,i.options)}},r=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e){var i=t[e];if(n){if(!1===i.active){var r=new Glide("#"+i.id,o),l=["build.after","run.after"];r.on("mount.after",(function(n){i.glider=r,i.active=!0,t[e]=i})),r.on(l,(function(){if(setTimeout((function(){return a(i.element)}),100),"soul"===i.style){var e=i.element.querySelector(".glide__slide--active .soul__item-image")||!1,t=i.element.querySelector(".glide__button")||!1;if(e&&t){var n=(e.offsetHeight-t.offsetHeight)/2;i.element.querySelectorAll(".glide__button").forEach((function(e){e.style.top=n+"px"}))}}})),(document.querySelectorAll('[data-target="#'+i.id+'"].next')||[]).forEach((function(e){e.addEventListener("click",(function(){r.go(">")}))})),(document.querySelectorAll('[data-target="#'+i.id+'"].prev')||[]).forEach((function(e){e.addEventListener("click",(function(){r.go("<")}))})),r.mount()}}else!0===i.active&&(i.glider.destroy(),i.element.querySelector(".glide__track").style.height="auto",i.active=!1,t[e]=i)}},a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e){var t=e.querySelector(".glide__slide--active")||!1,n=e.querySelector(".glide__track")||!1;if(t&&n){var o=t.offsetHeight;n.offsetHeight!=o&&(n.style.height=o+"px",AOS.refresh())}}};return{debug:!1,info:{name:"Gliders",version:"1.0"},init:function(){(function(){for(var e=document.querySelectorAll(".js--glider")||[],n=0;n<e.length;n++){var i=e[n],r=i.id,a=i.dataset.glideStyle||"not-set",l="true"===i.dataset.glideDesktopOnly||!1,s="true"===i.dataset.glideMobileOnly||!1,c="true"===i.dataset.glideGap||!1,u=o();switch(t[r]={desktopOnly:l,glider:!1,element:i,id:r,active:!1,style:a,mobileOnly:s,gap:c},a){case"post-listing":u=o({animationDuration:450,autoplay:0,breakpoints:{9999:{peek:{before:0,after:140},perView:2,focusAt:0},991:{peek:{before:0,after:90},perView:1,focusAt:0}},gap:40});break;case"featured-gallery":u=o({animationDuration:450,autoplay:3200,breakpoints:{9999:{peek:0,perView:3,focusAt:0},991:{peek:32,perView:1,focusAt:"center"}},gap:24,peek:0,perView:3});break;case"soul":u=o({animationDuration:450,autoplay:0,breakpoints:{991:{peek:{before:0,after:0},perView:1,focusAt:0},575:{peek:{before:30,after:30},perView:1,focusAt:0}},gap:20});break;case"testimonials":u=o({animationDuration:450,autoplay:0,breakpoints:{},gap:24})}c&&(u.gap=10),t[r].options=u}})(),i(),window.addEventListener("resize",(function(e){n||(window.requestAnimationFrame((function(){i(),n=!1})),n=!0)}))},gliderOptions:o,gliders:t}},InstagramFeed=function(){var e=new Tools,t={},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e.length&&n)for(var o=document.querySelectorAll("[data-instagram-feed-account-name='".concat(n,"']")),i=0;i<o.length;i++)for(var r=1,a=0;a<e.length;a++){var l=e[a];console.log(l);var s="IMAGE"==l.media_type;r<=t[n].limit&&s&&(o[i].querySelector("[data-count='".concat(r,"'] .instagram-feed__link")).setAttribute("href",l.permalink),o[i].querySelector("[data-count='".concat(r,"'] .instagram-feed__image")).setAttribute("data-bg",l.media_url),o[i].querySelector("[data-count='".concat(r,"'] .instagram-feed__image")).classList.add("lazyload","lazypreload"),r++)}},o=function(t){fetch("https://very-polite-instagram-feed.herokuapp.com/token?userAccount="+t).then((function(e){return e.json()})).then((function(o){!function(t,o){fetch("https://graph.instagram.com/me/media?fields=id,media_type,media_url,permalink&access_token="+o).then((function(e){return e.json()})).then((function(o){var i={account:t,date:Date.now(),data:o.data};e.setLocalStorage("very-polite-instagram-feed--".concat(t),JSON.stringify(i)),n(o.data,t)})).catch((function(e){return console.log("getMedia( $account, $token ) Error",e)}))}(t,o.token)})).catch((function(e){return console.log(e)}))};return{info:{name:"Instagram Feed",version:"1.0"},init:function(){!function(){for(var i in function(){for(var e=document.getElementsByClassName("js--instagram-feed"),n=0;n<e.length;n++){var o=parseInt(e[n].getAttribute("data-instagram-feed-post-limit"))||6,i=e[n].getAttribute("data-instagram-feed-account-name")||!1;i&&o&&(t[i]={element:e[n],limit:o})}}(),t)if(e.getLocalStorageValueByKey("very-polite-instagram-feed--".concat(i))){var r=JSON.parse(e.getLocalStorageValueByKey("very-polite-instagram-feed--".concat(i)));((Date.now()-r.date)/6e4).toFixed(2)>30?o(i):n(r.data,i)}else o(i)}()}}},MobileMenu=function(){var e=new Tools,t=e.getArrayOfElementsByTag();return{debug:!1,info:{name:"MobileMenu",version:"1.0"},init:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];(document.querySelectorAll(".js--mobile-menu-trigger")||[]).forEach((function(n){n.addEventListener("click",(function(){e.toggleClass("mobile-menu--active",t),n.classList.toggle("is-active")}))}))}}},Scrolling=function(){var e=new Tools,t=e.getArrayOfElementsByTag(),n=!1,o="scroll-position--at-top",i="scroll-position--scrolled",r="scroll-position--scrolling-down",a="scroll-position--scrolling-up",l={current:window.pageYOffset||document.documentElement.scrollTop,initial:window.pageYOffset||document.documentElement.scrollTop,previous:window.pageYOffset||document.documentElement.scrollTop,down:!1},s=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;l.down=l.current>l.previous,n>15?e.addClass(i,t):e.removeClass(i,t),0===n?e.addClass(o,t):e.removeClass(o,t),l.down?(e.addClass(r,t),e.removeClass(a,t)):(e.addClass(a,t),e.removeClass(r,t))};return{debug:!1,info:{name:"Scrolling",version:"1.0"},init:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];s(l.current),e.setHeaderHeightTotalCSSVariable(),document.addEventListener("scroll",(function(t){l.previous=l.current,l.current=window.pageYOffset||document.documentElement.scrollTop,n||(window.requestAnimationFrame((function(){s(l.current),e.setHeaderHeightTotalCSSVariable(),n=!1})),n=!0)}))}}},Sizing=function(){var e=new Tools,t=!1,n=function(){var t=window.innerHeight;t&&e.setCSSVariable("theme-viewport-height--total",t+"px")};return{debug:!1,info:{name:"Sizing",version:"1.0"},init:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.setHeaderHeightTotalCSSVariable(),n(),window.addEventListener("resize",(function(o){t||(window.requestAnimationFrame((function(){e.setHeaderHeightTotalCSSVariable(),n(),t=!1})),t=!0)}))}}},Theme=(new Date,{debug:!1,info:{name:"Theme",version:"1.0"},init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){e.init()}))}}),Tools=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=document.getElementsByTagName(e)[0]||!1;return t?t.offsetHeight:0},t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e&&t&&document.documentElement.style.setProperty("--"+e,t)};return{debug:!1,info:{name:"Tools",version:"1.0"},addClass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e&&t.length)for(var n=0;n<t.length;n++)t[n]&&t[n].classList.add(e)},getLocalStorageValueByKey:function(e){return localStorage.getItem(e)},getElementHeightByTag:e,getArrayOfElementsByTag:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["body","footer","header","main"];return(e.filter((function(e){return document.getElementsByTagName(e)[0]}))||[]).map((function(e){return document.getElementsByTagName(e)[0]}))||[]},removeClass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e&&t.length)for(var n=0;n<t.length;n++)t[n]&&t[n].classList.remove(e)},setCSSVariable:t,setLocalStorage:function(e,t){localStorage.setItem(e,t)},setHeaderHeightTotalCSSVariable:function(){var n=e("header")||!1;n&&t("theme-header-height--total",n+"px")},toggleClass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e&&t.length)for(var n=0;n<t.length;n++)t[n]&&t[n].classList.toggle(e)}}},credits=new Credits,forms=new Forms,gliders=new Gliders,instagramFeed=new InstagramFeed,mobileMenu=new MobileMenu,modals=new Modals,scrolling=new Scrolling,sizing=new Sizing;Theme.init([credits]);
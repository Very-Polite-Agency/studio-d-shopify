{% assign section_name = 'mobile-menu' %}
{% assign section_id = section_name | append: '--' | append: section.id %}

{% assign menu_main = section.settings.menu_main | default: false %}

<div class="{{ section_name }}__layout">

  <div class="{{ section_name }}__main">
    <nav class="{{ section_name }}__navigation navigation">

      {% for link in linklists[menu_main].links %}

          {% if link.levels > 1 %}

            <div class="accordion" id="accordion-{{ link.title | replace: ' ', '-' }}">
              <div class="navigation__item nav-submenu-mobile" id="headingOne-{{ link.title | replace: ' ', '-' }}">
                <button class="navigation__link link w-100 justify-content-between" target="_self" title="ShopAll" type="button" data-toggle="collapse" data-target="#collapseOne-{{link.title | replace: ' ', '-'}}" aria-expanded="false" aria-controls="collapseOne-{{link.title | replace: ' ', '-'}}"><span
                  class="link__title">{{ link.title }}</span>
                  <svg width="11" height="11" viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M5.5 0V11" stroke="black"/>
                    <path d="M11 5.5L0 5.5" stroke="black"/>
                  </svg>
                </button>
              </div>

              <div id="collapseOne-{{ link.title | replace: ' ', '-' }}" class="collapse accordion-content" aria-labelledby="headingOne-{{ link.title | replace: ' ', '-' }} " data-parent="#accordion-{{ link.title | replace: ' ', '-' }}">

                {% for sub_link in link.links %}
                <div class="navigation__item">
                  <a class="navigation__link link" href="{{ sub_link.url }}"
                  target="_self" title="{{ sub_link.title }}"><span class="h4">{{ sub_link.title }}</span>
                </a></div>

                {% endfor %}

              </div>

            </div>

          {% else %}
          <div class="navigation__item "><a class="navigation__link link justify-content-start" href="{{ link.url }}"
            target="_self" title="{{link.title}}"><span class="link__title">{{ link.title }}</span></a></div>
          {% endif %}

      {% endfor %}


    </nav>
  </div>

  <div class="{{ section_name }}__footer">

    <div class="{{ section_name }}__buttons">
      <div class="navigation__item">
        <a href="/cart" class="d-flex align-items-center">
          <svg width="24" height="28" viewBox="0 0 24 28" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="0.5" y="10.6165" width="22.9467" height="16.4157" stroke="#121212"/>
            <path d="M19.5933 9.0279C19.5933 4.81983 16.182 1.40851 11.9739 1.40851C7.76581 1.40851 4.35449 4.81983 4.35449 9.0279" stroke="#121212"/>
            </svg>

          <div class="link-text ">({{ cart.item_count }})</div>
        </a>
      </div>

      {% if customer %}
      <div class="navigation__item account-link">
        <a href="/account" class=" d-flex align-items-center">
          <svg width="23" height="26" viewBox="0 0 23 26" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="11.6798" cy="6.76218" r="5.69248" stroke="#247200"/>
            <path d="M22 25.3396C22 19.6396 17.3792 15.0188 11.6792 15.0188C5.97918 15.0188 1.3584 19.6396 1.3584 25.3396" stroke="#247200"/>
            </svg>

          <div class="link-text">Account</div>
        </a>
      </div>
      {%else%}
      <div class="navigation__item account-link">
        <a href="/account" class=" d-flex align-items-center">
          <svg width="23" height="26" viewBox="0 0 23 26" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="11.6798" cy="6.76218" r="5.69248" stroke="#247200"/>
            <path d="M22 25.3396C22 19.6396 17.3792 15.0188 11.6792 15.0188C5.97918 15.0188 1.3584 19.6396 1.3584 25.3396" stroke="#247200"/>
            </svg>

          <div class="link-text">Login</div>
        </a>
      </div>
      {% endif %}
    </div>

    <div class="{{ section_name }}__social social">
      {% for block in section.blocks %}

						{% case block.type %}

						{% when 'social' %}

						{% if block.settings.instagram_link != blank %}

						<div class="social__item"><a class="social__link link" href="{{ block.settings.instagram_link }}"
								target="_blank" title="instagram"><svg version="1.1" xmlns="http://www.w3.org/2000/svg"
									xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16"
									style="enable-background:new 0 0 16 16;" xml:space="preserve">
									<g>
										<path d="M8,3.6c-0.9,0-1.7,0.3-2.4,0.7C4.8,4.8,4.3,5.5,3.9,6.3C3.6,7.1,3.5,7.9,3.7,8.8c0.2,0.8,0.6,1.6,1.2,2.2
								c0.6,0.6,1.4,1,2.3,1.2c0.9,0.2,1.7,0.1,2.5-0.2c0.8-0.3,1.5-0.9,2-1.6c0.5-0.7,0.7-1.5,0.7-2.4c0-1.1-0.5-2.2-1.3-3
								C10.3,4.1,9.2,3.6,8,3.6z M10,9.9c-0.5,0.5-1.3,0.8-2,0.8c-0.6,0-1.1-0.2-1.6-0.5C5.9,10,5.5,9.5,5.3,9S5.1,7.9,5.2,7.4
								c0.1-0.5,0.4-1,0.8-1.4c0.4-0.4,0.9-0.7,1.5-0.8s1.1-0.1,1.7,0.2c0.5,0.2,1,0.6,1.3,1c0.3,0.5,0.5,1,0.5,1.6
								C10.9,8.7,10.6,9.4,10,9.9z"></path>
										<path
											d="M12.5,2.6c-0.6,0-1,0.5-1,1c0,0.6,0.5,1,1,1c0.6,0,1-0.5,1-1C13.5,3,13.1,2.6,12.5,2.6z">
										</path>
										<path d="M11.3,0H4.7C2.1,0,0,2,0,4.5v6.9C0,13.9,2.1,16,4.7,16h6.7c2.6,0,4.6-2,4.6-4.5V4.5C16,2,13.9,0,11.3,0z
								M14.7,11.5c0,0.9-0.4,1.7-1,2.3c-0.6,0.6-1.5,1-2.4,1H4.6c-0.9,0-1.8-0.4-2.4-1c-0.6-0.6-1-1.5-1-2.3V4.5c0-0.9,0.4-1.7,1-2.3
								s1.5-1,2.4-1h6.7c0.9,0,1.8,0.4,2.4,1c0.6,0.6,1,1.5,1,2.3V11.5z"></path>
									</g>
								</svg></a></div>

						{% endif %}

						{% if block.settings.facebook_link != blank %}

						<div class="social__item"><a class="social__link link" href="{{ block.settings.facebook_link }}"
								target="_blank" title="facebook"><svg version="1.1" xmlns="http://www.w3.org/2000/svg"
									xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 8.6 16"
									style="enable-background:new 0 0 8.6 16;" xml:space="preserve">
									<path
										d="M8.6,0H6.3c-1,0-2,0.4-2.8,1.2C2.8,1.9,2.3,2.9,2.3,4v2.4H0v3.2h2.3V16h3.1V9.6h2.3l0.8-3.2H5.5V4c0-0.2,0.1-0.4,0.2-0.6C5.8,3.3,6,3.2,6.3,3.2h2.3V0z">
									</path>
								</svg></a></div>

						{% endif %}

						{% if block.settings.linkedin_link != blank %}

						<div class="social__item"><a class="social__link link"
								href="{{ block.settings.linkedin_link }}" target="_blank"
								title="linkedin"><svg version="1.1" xmlns="http://www.w3.org/2000/svg"
									xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20"
									style="enable-background:new 0 0 20 20;" xml:space="preserve">
									<path d="M18,0H2C1.8,0,1.5,0.1,1.2,0.2C1,0.3,0.8,0.4,0.6,0.6C0.4,0.8,0.3,1,0.2,1.2C0.1,1.5,0,1.7,0,2v16c0,0.3,0.1,0.5,0.2,0.8
							c0.1,0.2,0.2,0.5,0.4,0.6c0.2,0.2,0.4,0.3,0.7,0.4C1.5,19.9,1.8,20,2,20h16c0.3,0,0.5-0.1,0.8-0.2c0.2-0.1,0.5-0.2,0.7-0.4
							c0.2-0.2,0.3-0.4,0.4-0.6c0.1-0.2,0.2-0.5,0.2-0.8V2c0-0.5-0.2-1-0.6-1.4C19,0.2,18.5,0,18,0z M6.4,15.8H3.7V7.3h2.7V15.8z M5.1,6.2
							c-0.9,0-1.4-0.6-1.4-1.3c0-0.8,0.6-1.3,1.4-1.3c0.9,0,1.4,0.6,1.4,1.3C6.5,5.6,6,6.2,5.1,6.2z M16.2,15.8h-2.7v-4.7
							c0-1.1-0.4-1.9-1.4-1.9c-0.7,0-1.2,0.5-1.4,1c-0.1,0.2-0.1,0.4-0.1,0.7v4.9H8V10C8,8.9,8,8,8,7.3h2.3l0.1,1.2h0.1
							c0.3-0.6,1.2-1.4,2.7-1.4c1.8,0,3.1,1.2,3.1,3.7L16.2,15.8z"></path>
								</svg></a></div>

						{% endif %}

						{% if block.settings.pinterest_link != blank %}

						<div class="social__item"><a class="social__link link"
								href="{{ block.settings.pinterest_link }}" target="_blank" title="pinterest"><svg
									version="1.1" xmlns="http://www.w3.org/2000/svg"
									xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16"
									style="enable-background:new 0 0 16 16;" xml:space="preserve">
									<g>
										<path d="M8,0C6.2,0,4.3,0.7,2.9,1.8C1.5,3,0.5,4.7,0.2,6.5c-0.3,1.8,0,3.7,0.9,5.4c0.9,1.6,2.3,2.9,4.1,3.6c-0.1-0.6-0.1-1.6,0-2.3
									c0.1-0.6,0.9-4,0.9-4C5.9,8.8,5.8,8.4,5.8,8C5.8,6.9,6.5,6,7.3,6c0.7,0,1,0.5,1,1.1c0,0.7-0.4,1.7-0.7,2.7
									c-0.2,0.8,0.4,1.4,1.2,1.4c1.4,0,2.5-1.5,2.5-3.7c0-1.9-1.4-3.2-3.3-3.2c-2.3,0-3.6,1.7-3.6,3.5c0,0.7,0.3,1.4,0.6,1.8
									c0,0,0,0.1,0.1,0.1c0,0,0,0.1,0,0.1c-0.1,0.3-0.2,0.8-0.2,0.9c0,0.1-0.1,0.2-0.3,0.1c-1-0.5-1.6-1.9-1.6-3.1C2.9,5.3,4.7,3,8.2,3
									c2.8,0,4.9,2,4.9,4.6c0,2.8-1.7,5-4.1,5c-0.8,0-1.6-0.4-1.8-0.9c0,0-0.4,1.5-0.5,1.9c-0.2,0.7-0.7,1.6-1,2.1
									C6.7,16,7.9,16.1,9,15.9c1.1-0.1,2.2-0.5,3.2-1.2s1.8-1.4,2.4-2.4c0.6-1,1-2,1.2-3.2C16.1,8,16,6.9,15.7,5.8
									c-0.3-1.1-0.9-2.1-1.6-3c-0.7-0.9-1.7-1.6-2.7-2.1C10.3,0.3,9.2,0,8,0z"></path>
									</g>
								</svg></a></div>

								{% endif %}

						{% if block.settings.houzz_link != blank %}

						<div class="social__item"><a class="social__link link"
								href="{{ block.settings.houzz_link }}" target="_blank" title="houzz"><svg
									width="95" height="94" viewBox="0 0 95 94" xmlns="http://www.w3.org/2000/svg">
									<path
										d="M85.2111 0H10.0137C7.52074 0 5.12989 0.990347 3.36711 2.75319C1.60433 4.51603 0.614014 6.90697 0.614014 9.4V84.6C0.614014 87.093 1.60433 89.484 3.36711 91.2468C5.12989 93.0096 7.52074 94 10.0137 94H85.2111C87.7041 94 90.0949 93.0096 91.8577 91.2468C93.6205 89.484 94.6108 87.093 94.6108 84.6V9.4C94.6108 6.90697 93.6205 4.51603 91.8577 2.75319C90.0949 0.990347 87.7041 0 85.2111 0ZM74.9185 77.3385H54.7091V57.105H40.6096V77.3385H20.3768V16.6615H34.4764V30.7615L74.9185 42.4175V77.3385Z">
									</path>
								</svg></a></div>
								{% endif %}
						{% endcase %}
						{% endfor %}
    </div>
    <div class="mobile-menu__brand brand"><a class="mobile-menu__link link" href="https://studiodhome.wpengine.com"
        target="_self" title="Home"><svg version="1.1" xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 62 69"
          style="enable-background:new 0 0 62 69;" xml:space="preserve">
          <g>
            <path
              d="M27.9,15H11.8v0.6c5.5,0,6.2,0.9,6.2,4.6v32.3c0,3.6-0.7,4.6-6.2,4.6v0.6l15.5,0c16.7,0,26.3-7.7,26.3-21
	          C53.6,22.8,44.4,15,27.9,15z M28,57.1c-4.7,0-6.6-1.3-6.6-4.8V15.7h7.3c12.8,0,20.6,8,20.6,21.1C49.3,48.9,40.9,57.1,28,57.1z">
            </path>
            <path
              d="M58.5,51.5c-1.9,0-3.5,1.3-3.5,3.3c0,2.1,1.6,3.4,3.5,3.5c1.9,0,3.5-1.4,3.5-3.5C62,52.8,60.4,51.5,58.5,51.5z">
            </path>
            <rect width="0.7" height="69"></rect>
          </g>
        </svg></a>
    </div>
  </div>

</div>

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}

{% schema %}
{
"name": "Mobile Menu",
"class": "mobile-menu",
"tag": "div",
"settings": [
{
"content": "Navigation",
"type": "header"
},
{
 			"label": "Main Menu",
 			"type": "link_list",
 			"id": "menu_main"
 		}
],
"blocks": [
  {
    "name": "Social",
    "type": "social",
    "settings": [
{
"type": "text",
"id": "instagram_link",
"label": "Instagram Link",
"default": "https://www.instagram.com/studiodhome/"
},
{
"type": "text",
"id": "facebook_link",
"label": "Facebook Link",
"default": "https://www.facebook.com/studioDstaging"
},
{
"type": "text",
"id": "linkedin_link",
"label": "Linkedin Link",
"default": "https://www.linkedin.com/company/studiodstaging/"
},
{
"type": "text",
"id": "pinterest_link",
"label": "Pinteres Link",
"default": "https://www.pinterest.ca/studiodstaging/"
},
{
	"type": "text",
	"id": "houzz_link",
	"label": "Houzz Link",
	"default": "https://www.houzz.com/pro/studiodhome"
	}
]
  }
]
}
{% endschema %}
